# All-Influencer í”„ë¡œì íŠ¸ ì‹¤í–‰ ê°€ì´ë“œ

## ğŸ“‹ ê°œìš”
All-Influencer í”Œë«í¼ì˜ ì™„ì „í•œ ì‹¤í–‰ ê°€ì´ë“œì…ë‹ˆë‹¤. ê°œë°œ í™˜ê²½ ì„¤ì •ë¶€í„° í”„ë¡œë•ì…˜ ë°°í¬ê¹Œì§€ ëª¨ë“  ê³¼ì •ì„ ë‹¤ë£¹ë‹ˆë‹¤.

## ğŸ›  ì‹œìŠ¤í…œ ìš”êµ¬ì‚¬í•­

### í•„ìˆ˜ ì†Œí”„íŠ¸ì›¨ì–´
- **Node.js**: 18.0.0 ì´ìƒ
- **npm**: 9.0.0 ì´ìƒ ë˜ëŠ” **pnpm**: 8.0.0 ì´ìƒ
- **Docker**: 20.0.0 ì´ìƒ
- **Docker Compose**: 2.0.0 ì´ìƒ
- **Git**: 2.30.0 ì´ìƒ

### ê¶Œì¥ ê°œë°œ ë„êµ¬
- **VS Code**: TypeScript ì§€ì›
- **Postman**: API í…ŒìŠ¤íŠ¸
- **TablePlus/pgAdmin**: ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬

## ğŸš€ ë¹ ë¥¸ ì‹œì‘

### 1. í”„ë¡œì íŠ¸ í´ë¡ 
```bash
git clone https://github.com/Strong-Couple/All-Influencer.git
cd All-influencer
```

### 2. ì˜ì¡´ì„± ì„¤ì¹˜
```bash
# npm ì‚¬ìš© (ê¶Œì¥)
npm install

# ë˜ëŠ” pnpm ì‚¬ìš© (í‚¤ ê²€ì¦ ë¬¸ì œê°€ ìˆì„ ìˆ˜ ìˆìŒ)
pnpm install
```

### 3. ë°ì´í„°ë² ì´ìŠ¤ ì‹¤í–‰
```bash
# PostgreSQL + Adminer ì‹œì‘
docker-compose up -d postgres adminer

# ë°ì´í„°ë² ì´ìŠ¤ ìƒíƒœ í™•ì¸
docker ps
```

### 4. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
```bash
# apps/api/.env íŒŒì¼ì´ ìˆëŠ”ì§€ í™•ì¸
ls -la apps/api/.env

# ì—†ë‹¤ë©´ ìƒì„±
cp apps/api/.env.example apps/api/.env  # ì˜ˆì‹œ íŒŒì¼ì´ ìˆë‹¤ë©´
```

### 5. ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
```bash
cd apps/api
export DATABASE_URL="postgresql://allinfluencer:allinfluencer@localhost:5432/allinfluencer?schema=public"
npx prisma migrate dev --name init
npx prisma generate
cd ../..
```

### 6. ì„œë²„ ì‹¤í–‰
```bash
# ë°©ë²• 1: ê°œë³„ ì‹¤í–‰ (ê¶Œì¥)
# í„°ë¯¸ë„ 1 - API ì„œë²„
cd apps/api && npm run dev

# í„°ë¯¸ë„ 2 - ì›¹ ì„œë²„  
cd apps/web && npm run dev

# ë°©ë²• 2: í†µí•© ì‹¤í–‰ (ë¬¸ì œê°€ ìˆì„ ìˆ˜ ìˆìŒ)
npm run dev
```

## ğŸŒ ì„œë¹„ìŠ¤ ì ‘ì†

### ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜
- **í”„ë¡ íŠ¸ì—”ë“œ**: http://localhost:3000
- **API ì„œë²„**: http://localhost:3001

### ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬
- **Adminer**: http://localhost:8080
  - ì‹œìŠ¤í…œ: PostgreSQL
  - ì„œë²„: postgres (Docker ë„¤íŠ¸ì›Œí¬ ë‚´) ë˜ëŠ” localhost
  - ì‚¬ìš©ìëª…: allinfluencer
  - ë¹„ë°€ë²ˆí˜¸: allinfluencer
  - ë°ì´í„°ë² ì´ìŠ¤: allinfluencer

### Prisma Studio
```bash
cd apps/api
npx prisma studio
# http://localhost:5555ì—ì„œ ì ‘ì†
```

## ğŸ”§ ê°œë°œ í™˜ê²½ ì„¤ì •

### í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

#### apps/api/.env
```env
# ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •
DATABASE_URL="postgresql://allinfluencer:allinfluencer@localhost:5432/allinfluencer?schema=public"

# JWT ì„¤ì •
JWT_SECRET="your-super-secret-jwt-key-change-this-in-production-2024"
JWT_ACCESS_EXPIRES_IN="15m"
JWT_REFRESH_EXPIRES_IN="7d"

# ì„œë²„ ì„¤ì •
NODE_ENV="development"
PORT=3001
API_PREFIX="api"

# CORS ì„¤ì •
CORS_ORIGIN="http://localhost:3000"

# OAuth ì„¤ì • (ì„ íƒì )
GOOGLE_CLIENT_ID=""
GOOGLE_CLIENT_SECRET=""
KAKAO_CLIENT_ID=""
KAKAO_CLIENT_SECRET=""
NAVER_CLIENT_ID=""
NAVER_CLIENT_SECRET=""

# OAuth ë¦¬ë‹¤ì´ë ‰íŠ¸ URL
OAUTH_REDIRECT_SUCCESS="http://localhost:3000/auth/success"
OAUTH_REDIRECT_FAILURE="http://localhost:3000/auth/failure"

# ì•”í˜¸í™” í‚¤
ENCRYPTION_KEY="your-32-character-encryption-key!"

# ì¿ í‚¤ ì„¤ì •
COOKIE_SECRET="your-cookie-secret-key-2024"
```

#### apps/web/.env.local (ì„ íƒì )
```env
NEXT_PUBLIC_API_URL=http://localhost:3001
NEXT_PUBLIC_APP_URL=http://localhost:3000
```

## ğŸ“ ìŠ¤í¬ë¦½íŠ¸ ëª…ë ¹ì–´

### ë£¨íŠ¸ ë””ë ‰í„°ë¦¬
```bash
# ì „ì²´ í”„ë¡œì íŠ¸ ë¹Œë“œ
npm run build

# ì „ì²´ í”„ë¡œì íŠ¸ ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev

# ë¦°íŒ…
npm run lint

# í¬ë§·íŒ…
npm run format

# íƒ€ì… ì²´í¬
npm run type-check

# í…ŒìŠ¤íŠ¸
npm run test
```

### API ì„œë²„ (apps/api)
```bash
cd apps/api

# ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev

# í”„ë¡œë•ì…˜ ë¹Œë“œ
npm run build

# í”„ë¡œë•ì…˜ ì„œë²„ ì‹¤í–‰
npm run start

# ë°ì´í„°ë² ì´ìŠ¤ ê´€ë ¨
npx prisma migrate dev
npx prisma generate
npx prisma studio
npx prisma db seed
```

### ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ (apps/web)
```bash
cd apps/web

# ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev

# í”„ë¡œë•ì…˜ ë¹Œë“œ
npm run build

# í”„ë¡œë•ì…˜ ì„œë²„ ì‹¤í–‰
npm run start

# Next.js ë¦°íŒ…
npm run lint
```

## ğŸš¨ ë¬¸ì œ í•´ê²°

### 1. pnpm í‚¤ ê²€ì¦ ì˜¤ë¥˜
```bash
Error: Cannot find matching keyid
```
**í•´ê²° ë°©ë²•:**
```bash
# npm ì‚¬ìš©ìœ¼ë¡œ ì „í™˜
rm pnpm-lock.yaml
npm install

# ë˜ëŠ” corepack ë¹„í™œì„±í™”
npm config set package-manager npm
```

### 2. í¬íŠ¸ ì¶©ëŒ ë¬¸ì œ
```bash
Error: EADDRINUSE: address already in use :::3001
```
**í•´ê²° ë°©ë²•:**
```bash
# í¬íŠ¸ ì‚¬ìš© ì¤‘ì¸ í”„ë¡œì„¸ìŠ¤ í™•ì¸ ë° ì¢…ë£Œ
lsof -i :3001
kill -9 [PID]

# ë˜ëŠ” ëª¨ë“  node í”„ë¡œì„¸ìŠ¤ ì¢…ë£Œ
pkill -f node
```

### 3. ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ì‹¤íŒ¨
```bash
Error: P1001: Can't reach database server
```
**í•´ê²° ë°©ë²•:**
```bash
# Docker ì»¨í…Œì´ë„ˆ ìƒíƒœ í™•ì¸
docker ps

# PostgreSQL ì¬ì‹œì‘
docker-compose restart postgres

# í™˜ê²½ ë³€ìˆ˜ ì¬ì„¤ì •
export DATABASE_URL="postgresql://allinfluencer:allinfluencer@localhost:5432/allinfluencer?schema=public"
```

### 4. ëª¨ë“ˆ ì—†ìŒ ì˜¤ë¥˜
```bash
Module not found: Can't resolve '@heroicons/react/24/outline'
```
**í•´ê²° ë°©ë²•:**
```bash
# ëˆ„ë½ëœ íŒ¨í‚¤ì§€ ì„¤ì¹˜
cd apps/web
npm install @heroicons/react

# ë˜ëŠ” ì „ì²´ ì˜ì¡´ì„± ì¬ì„¤ì¹˜
rm -rf node_modules package-lock.json
npm install
```

### 5. TypeScript ì»´íŒŒì¼ ì˜¤ë¥˜
**í•´ê²° ë°©ë²•:**
```bash
# TypeScript ìºì‹œ ì •ë¦¬
rm -rf .next
rm -rf dist
rm -rf node_modules/.cache

# ì˜ì¡´ì„± ì¬ì„¤ì¹˜
npm install

# Prisma í´ë¼ì´ì–¸íŠ¸ ì¬ìƒì„±
cd apps/api
npx prisma generate
```

### 6. Docker ê¶Œí•œ ë¬¸ì œ (Linux/macOS)
**í•´ê²° ë°©ë²•:**
```bash
# Docker ê·¸ë£¹ì— ì‚¬ìš©ì ì¶”ê°€ (Linux)
sudo usermod -aG docker $USER
newgrp docker

# Docker Desktop ê¶Œí•œ í™•ì¸ (macOS)
# Docker Desktop ì¬ì‹œì‘
```

## ğŸ”„ ê°œë°œ ì›Œí¬í”Œë¡œìš°

### 1. ìƒˆ ê¸°ëŠ¥ ê°œë°œ
```bash
# ìƒˆ ë¸Œëœì¹˜ ìƒì„±
git checkout -b feature/new-feature

# ê°œë°œ ì„œë²„ ì‹¤í–‰
npm run dev

# ë³€ê²½ì‚¬í•­ ì»¤ë°‹
git add .
git commit -m "feat: add new feature"

# ì›ê²© ì €ì¥ì†Œì— í‘¸ì‹œ
git push origin feature/new-feature
```

### 2. ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ë³€ê²½
```bash
cd apps/api

# prisma/schema.prisma ìˆ˜ì • í›„
npx prisma migrate dev --name descriptive-name

# í´ë¼ì´ì–¸íŠ¸ ì¬ìƒì„±
npx prisma generate
```

### 3. API ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸
```bash
# ì„œë²„ ì‹¤í–‰ í›„
curl http://localhost:3001/api/health

# ë˜ëŠ” Postman/Thunder Client ì‚¬ìš©
```

## ğŸ— ë¹Œë“œ ë° ë°°í¬

### ê°œë°œ ë¹Œë“œ
```bash
npm run build
```

### í”„ë¡œë•ì…˜ ë°°í¬ ì¤€ë¹„
```bash
# í™˜ê²½ ë³€ìˆ˜ í”„ë¡œë•ì…˜ ì„¤ì •
export NODE_ENV=production

# ë¹Œë“œ
npm run build

# í”„ë¡œë•ì…˜ ì„œë²„ ì‹¤í–‰
npm run start
```

### Dockerë¥¼ ì´ìš©í•œ ë°°í¬
```bash
# ì „ì²´ ìŠ¤íƒ ì‹¤í–‰
docker-compose up -d

# ë¡œê·¸ í™•ì¸
docker-compose logs -f
```

## ğŸ“Š ëª¨ë‹ˆí„°ë§ ë° ë¡œê·¸

### ë¡œê·¸ í™•ì¸
```bash
# API ì„œë²„ ë¡œê·¸
cd apps/api && npm run dev

# ì›¹ ì„œë²„ ë¡œê·¸
cd apps/web && npm run dev

# Docker ë¡œê·¸
docker-compose logs -f postgres
docker-compose logs -f adminer
```

### ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§
```bash
# Node.js í”„ë¡œì„¸ìŠ¤ ëª¨ë‹ˆí„°ë§
top -p $(pgrep -f node)

# ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í™•ì¸
docker exec -it allinfluencer-postgres pg_isready -U allinfluencer
```

## ğŸ§ª í…ŒìŠ¤íŠ¸

### ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
```bash
npm run test
```

### E2E í…ŒìŠ¤íŠ¸
```bash
cd apps/api
npm run test:e2e
```

### API í…ŒìŠ¤íŠ¸
```bash
# í—¬ìŠ¤ ì²´í¬
curl http://localhost:3001/health

# ì‚¬ìš©ì ëª©ë¡ ì¡°íšŒ
curl http://localhost:3001/api/users
```

## ğŸ“± ëª¨ë°”ì¼ ê°œë°œ (ë¯¸ë˜)

### React Native ì„¤ì • (ê³„íš)
```bash
# React Native í”„ë¡œì íŠ¸ ìƒì„± (ë¯¸ë˜)
npx react-native init AllInfluencerMobile
```

## ğŸ”’ ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

### ê°œë°œ í™˜ê²½
- `.env` íŒŒì¼ì„ ì ˆëŒ€ ì»¤ë°‹í•˜ì§€ ë§ˆì„¸ìš”
- ê¸°ë³¸ ë¹„ë°€ë²ˆí˜¸ë¥¼ í”„ë¡œë•ì…˜ì—ì„œ ë³€ê²½í•˜ì„¸ìš”
- HTTPSë¥¼ ì‚¬ìš©í•˜ì„¸ìš” (í”„ë¡œë•ì…˜)

### í”„ë¡œë•ì…˜ í™˜ê²½
- ê°•ë ¥í•œ JWT ì‹œí¬ë¦¿ ì‚¬ìš©
- ë°ì´í„°ë² ì´ìŠ¤ ì ‘ê·¼ ì œí•œ
- ë°©í™”ë²½ ì„¤ì •
- SSL/TLS ì¸ì¦ì„œ ì„¤ì •

## ğŸ“ ì§€ì› ë° ë¬¸ì˜

### ë¬¸ì œ ì‹ ê³ 
1. GitHub Issuesì— ë¬¸ì œ ë“±ë¡
2. ë‹¤ìŒ ì •ë³´ í¬í•¨:
   - ì˜¤ë¥˜ ë©”ì‹œì§€
   - ì‹¤í–‰ í™˜ê²½ (OS, Node.js ë²„ì „)
   - ì¬í˜„ ë‹¨ê³„

### ê°œë°œíŒ€ ì—°ë½
- GitHub: [All-Influencer Repository](https://github.com/Strong-Couple/All-Influencer)
- ì´ë©”ì¼: [ê°œë°œíŒ€ ì´ë©”ì¼]

---
**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2024ë…„ 10ì›” 4ì¼  
**ë²„ì „**: 1.0.0  
**ì‘ì„±ì**: All-Influencer ê°œë°œíŒ€
